"use strict";const e=require("../../../common/vendor.js"),a=e.defineComponent({__name:"index",setup(a){const l=e.reactive(["%","CE","C","删除","1/x","x方","根号x","/",7,8,9,"*",4,5,6,"-",1,2,3,"+","+/-",0,".","="]),u=e.ref([]);return(a,v)=>({a:e.f(u.value,((a,l,u)=>({a:e.t(a),b:l}))),b:e.f(l,((a,l,v)=>({a:e.t(a),b:l,c:e.o((l=>(a=>{const l=e.ref(0);if("删除"===a)u.value=u.value.slice(0,-1);else if("CE"===a||"C"===a)u.value=[];else if("1/x"===a)u.value=[1/parseFloat(u.value.toString().replace(/,/g,""))];else if("x方"===a)u.value=[Math.pow(parseFloat(u.value.toString().replace(/,/g,"")),2)];else if("根号x"===a)u.value=[Math.sqrt(parseFloat(u.value.toString().replace(/,/g,"")))];else if("+/-"===a)"-"===u.value[0]?u.value=u.value.slice(1,u.value.length):u.value.unshift("-");else{const t=e.ref(0),r=e.ref(""),s=e.ref(!1),o=e.ref(0);u.value.push(a);for(var v=0;v<=u.value.length;v++)"string"==typeof u.value[v]&&"."!==u.value[v]&&(l.value+=1);if(l.value>1)for("string"==typeof u.value[0]&&u.value.unshift(0),v=0;v<=u.value.length;v++){if("string"==typeof u.value[v]&&"."!==u.value[v]){if("string"==typeof u.value[v+1])s.value=!0,"number"==typeof u.value[v-1]&&(o.value=v);else{const e=u.value.slice(0,v).toString().replace(/,/g,""),a=u.value.slice(v+1,u.value.length-1).toString().replace(/,/g,"");switch(r.value=u.value[v],r.value){case"+":t.value=parseFloat(e)+parseFloat(a);break;case"-":t.value=parseFloat(e)-parseFloat(a);break;case"*":t.value=parseFloat(e)*parseFloat(a);break;case"/":t.value=parseFloat(e)/parseFloat(a);break;case"%":t.value=parseFloat(e)%parseFloat(a);break;case".":t.value=u.value.slice(0,u.value.length-1).toString().replace(/,/g,"")}u.value=[t.value]}return void("="!==a?s.value?(u.value[o.value]=u.value[u.value.length-1],u.value=u.value.slice(0,o.value+1)):u.value.push(a):s.value&&(u.value[o.value]=u.value[u.value.length-1],u.value=u.value.slice(0,o.value+1)))}u.value[v]}}})(a)),l)})))})}});wx.createPage(a);
